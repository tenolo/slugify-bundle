services:

    # slugification
    tenolo_slugify.slugification:
        class: Tenolo\Bundle\SlugifyBundle\Slugification\Slugification
        public: true
        arguments:
            - "@slugify"

    slugification:
        alias: tenolo_slugify.slugification

    # event listener
    tenolo_slugify.slug_listener:
        class: Tenolo\Bundle\SlugifyBundle\EventListener\SlugListener
        public: false
        arguments: ["@slugification"]
        tags:
            - { name: doctrine.event_listener, event: preUpdate, method: preUpdate }
            - { name: doctrine.event_listener, event: prePersist, method: prePersist }
            - { name: doctrine.event_listener, event: postLoad, method: postLoad }

    # forms
    tenolo_slugify.form_type.widget.slugify:
        class: Tenolo\Bundle\SlugifyBundle\Form\Type\Widgets\SlugifyType
        public: false
        arguments: ["@slugify"]
        tags:
            - { name: form.type }
